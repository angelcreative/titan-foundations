{
  "breadcrumb": {
    "lifecycle": {
      "status": "aria-primary",
      "sourceOfTruth": "titan-comp-doc/breadcrumb.pdf",
      "usageRule": "Implement Breadcrumb from PDF contract first. If docs/rules/spec conflict, PDF wins.",
      "migrationTrigger": "Sync local docs/rules/spec whenever breadcrumb.pdf changes."
    },
    "description": "Breadcrumb shows current location hierarchy and allows step-back navigation.",
    "canonicalTerminology": {
      "partNames": ["breadcrumb-nav", "ordered-list", "item", "separator", "current-item", "overflow-ellipsis-item"],
      "stateNames": ["default", "hover", "pressed", "focus-visible", "disabled"],
      "rule": "Use canonical names in docs/rules/contracts; avoid alternate labels."
    },
    "structure": {
      "required": ["nav[aria-label='Breadcrumb']", "ordered list", "items", "separators"],
      "optional": ["home icon item", "ellipsis collapse item", "leading/trailing truncation behavior"],
      "currentItemRule": "Last item is current page and is not interactive."
    },
    "tokens": {
      "label": "var(--text-body)",
      "labelMuted": "var(--text-muted)",
      "labelLink": "var(--text-link)",
      "labelLinkHover": "var(--text-link-hover)",
      "separator": "var(--divider-strong)",
      "focusRing": "var(--focus-ring)",
      "focusOffset": "var(--focus-ring-offset)",
      "itemGap": "var(--spacing-2xs)"
    },
    "interaction": {
      "clickableItems": "All previous hierarchy items are interactive links/buttons.",
      "currentItem": "Current location is read-only text with aria-current='page'.",
      "keyboard": "Tab navigation only through interactive breadcrumb items.",
      "overflow": "Collapse middle segments with ellipsis when space is insufficient."
    },
    "states": {
      "interactiveItem": ["default", "hover", "pressed", "focus-visible", "disabled when applicable"],
      "currentItem": ["default"]
    },
    "responsive": {
      "rule": "On narrow widths, preserve first and last levels and collapse middle levels first.",
      "ellipsisRule": "Collapsed segment can expand via menu/popover when requested by product flow."
    },
    "blockingRules": [
      "If hierarchy/current item semantics cannot be satisfied, return BLOCKER.",
      "If interactive breadcrumb states are missing, return FAIL.",
      "Do not make current page item clickable."
    ],
    "requiredStatesVisible": {
      "interactiveItem": ["default", "hover", "pressed", "focus-visible", "disabled when applicable"],
      "currentItem": ["default"],
      "overflowEllipsisItem": ["default", "hover", "focus-visible when interactive"]
    },
    "interactionMatrix": [
      { "event": "pointer-hover-item", "from": "default", "to": "hover" },
      { "event": "pointer-down-item", "from": "hover", "to": "pressed" },
      { "event": "keyboard-focus-item", "from": "default", "to": "focus-visible" },
      { "event": "activate-item", "from": "focus-visible|hover", "to": "navigate" },
      { "event": "narrow-width", "from": "full-path", "to": "collapsed-middle-with-ellipsis" }
    ],
    "reviewScenarios": [
      "Show breadcrumb with at least 4 levels and current-item semantics.",
      "Demonstrate interactive item states (default/hover/pressed/focus-visible).",
      "Demonstrate overflow strategy preserving first and last segment.",
      "Demonstrate optional ellipsis item expansion behavior when interactive."
    ],
    "a11yAcceptance": [
      "Breadcrumb nav uses aria-label='Breadcrumb'.",
      "Current item exposes aria-current='page' and is not interactive.",
      "Only interactive items are keyboard focus targets.",
      "Overflow strategy preserves semantics and discoverability."
    ],
    "failConditions": {
      "fail": [
        "Current item is interactive or lacks aria-current='page'.",
        "Overflow strategy is missing for long paths.",
        "Required interactive states are not visible in review harness."
      ],
      "blocker": [
        "Cannot provide breadcrumb landmark and current-item semantics.",
        "Missing token mapping for interactive/focus states."
      ]
    ]
  }
}
