---
description: Button (PDF) — button/icon/destructive/neutral-base with strict states and anatomy
globs: ["**/*Button*", "**/*button*", "**/*IconButton*", "**/components/**", "**/ui/**"]
alwaysApply: true
---

# Button (Titan)

Cuando se pida **button**, **icon button**, **destructive button** o variantes relacionadas:

- **Source of truth obligatorio:** `titan-comp-doc/button.pdf` (reflejado en `foundations/button.json`).
- **Canonical glossary obligatorio:** `docs/terminology.md`.
- **Preflight obligatorio:** leer `foundations/button.json` y resolver:
  - tipo (`$button`, `$icon-button`, `$destructive-button`, `$destructive-icon-button`, `$icon-button-neutral-base`)
  - jerarquia (primary/secondary/tertiary/text-button, base/base-l)
  - validacion de variables permitidas por tipo (no mezclar jerarquias no soportadas)
  - anatomia (radius, paddings, icon size, gap)
  - estados obligatorios
- **Tecnologia:** React Aria + tokens/foundations Titan.

## Anatomia obligatoria

- Button base: `$rounded-s`, `$spacing-xs` vertical, `$spacing-m` horizontal, label `$text-button`.
- Button with icon: gap `$spacing-4xs`, icon `$icon-s`.
  - Icon left: left `$spacing-s`, right `$spacing-m`.
  - Icon right: left `$spacing-m`, right `$spacing-s`.
- Icon Button:
  - Primary/Secondary: `$rounded-full`, icon `$icon-s`, padding `$spacing-2xs`.
  - Base: icon `$icon-s`, padding `$spacing-2xs`.
  - Base-L: icon `$icon-l`, padding `$spacing-xs`.
- Neutral Base Icon Button:
  - Variantes de superficie: `light` y `dark` para contraste consistente.
  - Uso recomendado en componentes compartidos (navbar, table, pagination, dialog).
- Border policy global:
  - Ningun boton Titan usa borde/stroke/outline como contenedor visual.
  - `border: none` en todas las variantes.
  - El foco visible no se implementa con borde.

## Estados obligatorios

- Todas las variantes deben cubrir: `default`, `hover`, `pressed`, `disabled`.
- Si falta cualquier estado requerido para la variante pedida -> **FAIL**.
- Terminologia canonica obligatoria: `text-button`, `base-l`, `dark-surface`, `light-surface` (sin camelCase ni nombres alternativos).

## Bloqueos

- Si faltan tokens o definicion de anatomia/estado -> **BLOCKER**.
- No inventar variantes ni renombrar jerarquias del PDF.
- No habilitar variantes no permitidas por tipo.
- En acciones destructivas criticas, añadir paso de confirmacion en el flujo.
- Si aparece borde/stroke/outline en cualquier variante -> **FAIL**.

Spec: `foundations/button.json`. Doc: `docs/button.md`.
